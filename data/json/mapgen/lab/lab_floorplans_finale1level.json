[
  {
    "//": "autodoc operating theatre",
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "lab_finale_1level" ],
    "weight": 25,
    "object": {
      "rotation": [ 0, 3 ],
      "fill_ter": "t_rock_floor",
      "rows": [
        "..cccccc.|...|,,,|..|,,,",
        "c........|...|,,,|.6|,,,",
        "c..Ccxc..|...|,,,g..g,,,",
        "c........g...|,,,g..g,,,",
        "c........g...|,,,D..D,,,",
        "......llS|...|---|..|---",
        "--gg-+---|...|,,,|..|,,,",
        ".............|,,,g..g,,,",
        ".............|,,,g..g,,,",
        ".............|,,,D..D,,,",
        "........|-ggg----|..|---",
        "........|r,,,r|t--+-|...",
        "........g,,/,,D.....+...",
        "........g,,?,,|-ggg-|...",
        "........|r,,,r|.........",
        "........|-ggg-|.........",
        "........................",
        "........................",
        "..........dd7dd.........",
        "..........d.h.d.........",
        "...ddxdd.........ddxdd..",
        "...d.h.d.........d.h.d..",
        "........................",
        "........................"
      ],
      "palettes": [
        "lab_palette", "lab_loot_generic"
      ],
      "furniture": {
        "?": "f_autodoc",
        "/": "f_autodoc_couch"
      },
      "terrain": {
        "C": "t_centrifuge",
        "?": "t_floor_blue",
        "/": "t_floor_blue",
        "7": "t_console",
        "r": "t_floor_blue"
      },
      "place_loot": [
        { "item": "anesthesia", "x": 15, "y": 11, "repeat": [4,9] }
      ],
      "mapping": {
        "r": {
          "items": [
            { "item": "bionics_common", "chance": 40 },
            { "item": "bionics", "chance": 20 },
            { "item": "hospital_medical_items", "chance": 80 },
            { "item": "dissection", "chance": 60 }
          ]
        }
      },
      "computers": {
        "6": {
          "name": "Operating Theatre Access Control", "security": 0, "options": [ { "name": "EMERGENCY EVAC - OPEN ALL DOORS", "action": "open", "security": 0 } ], "failures": [
            { "action": "damage" },
            { "action": "shutdown" }
          ]
        },
        "7": {
          "name": "Operating Theatre Access Control", "security": 2, "options": [ { "name": "UNLOCK AUTODOC DOOR", "action": "unlock", "security": 6 } ], "failures": [
            { "action": "damage" },
            { "action": "shutdown" }
          ]
        }
      },
      "place_monster": [
        { "monster": [ "mon_broken_cyborg", "mon_zombie_electric" ], "x": [ 14, 16 ], "y": [ 1, 4 ], "chance": 90 },
        { "monster": "mon_broken_cyborg", "x": [ 14, 16 ], "y": [ 6, 9 ], "chance": 90 },
        { "monster": "mon_broken_cyborg", "x": [ 21, 22 ], "y": [ 1, 4 ], "chance": 90 },
        { "monster": "mon_broken_cyborg", "x": [ 21, 22 ], "y": [ 6, 9 ], "chance": 90 },
        { "monster": "mon_zombie_scientist", "x": [15, 19], "y": 12, "chance": 90, "repeat": [1,2] },
        { "monster": "mon_zombie_brute_shocker", "x": [ 9, 10 ], "y": [ 12, 13 ]}
      ]
    }
  },
  {
    "//": "nano_fabricator room",
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "lab_finale_1level" ],
    "weight": 50,
    "object": {
      "rotation": [ 0, 3 ],
      "fill_ter": "t_rock_floor",
      "rows": [
        "CCC..................CCC",
        "C..........YY..........C",
        "........................",
        "....cc............cc....",
        "....cc..c......c..cc....",
        "....cc..c..//..c..cc....",
        "........c..//..c........",
        "........c......c........",
        "....cc.....YY.....cc....",
        "....cc............cc....",
        "....cc..--gGGg--..cc....",
        "........-,,,,,,-........",
        "..YY....g,/,,/,g....YY..",
        "........g,?,,?,g........",
        "ggGGg----,,,,,,----gGGgg",
        ".....-CC-+gggg+-CC-...x.",
        "x...x-,,,,,,,,,,,,-x..x.",
        "x...C-,r,,,rr,,,r,-C..x.",
        "x...C-Y,,,,,,,,,,Y-C..x.",
        "x...x----GggggG----x..x.",
        "R.....G..........G....R.",
        "......G....YY....G......",
        "..xx..g..........g..xx..",
        "Y.....g..........g.....Y"
      ],
      "palettes": [
        "lab_palette", "lab_loot_generic"
      ],
      "furniture": {
        "R": "f_rack"
      },
      "terrain": {
        "C": "t_machinery_electronic",
        "x": "t_machinery_heavy",
        "?": "t_nanofab",
        "r": "t_metal_floor",
        "/": "t_nanofab_body",
        "Y": "t_utility_light",
        "p": "t_metal_floor"
      },
      "mapping": {
        "r": {
          "item": { "item": "standard_template_construct" }
        },
        "R": {
          "item": { "item": "nanomaterial" }
        }
      },
      "place_monster": [
        { "monster": "mon_tripod", "x": [ 1, 4 ], "y": [ 20, 22 ], "chance": 90 },
        { "monster": "mon_tripod", "x": [ 19, 20 ], "y": [ 20, 22 ], "chance": 90 },
        { "monster": "mon_zombie_scientist", "x": [2, 20], "y": [ 1, 9 ], "chance": 90, "repeat": [1,2] }
      ]
    }
  }
]
