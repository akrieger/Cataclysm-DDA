[
  {
    "id": "TALK_TRUE_FOODPERSON",
    "type": "talk_topic",
    "dynamic_line": {
      "u_is_wearing": "foodperson_mask",
      "yes": "What sorcery is this?",
      "no": {
        "u_is_wearing": "foodkid_badge",
        "yes": "Welcome Home Foodkid!",
        "no": {
          "npc_has_var": "npc_foodperson_impressed",
          "type": "dialogue",
          "context": "foodperson",
          "value": "yes",
          "yes": "Greetings friend, it's nice to see you.",
          "no": {
            "npc_has_var": "foodperson_has_talked",
            "type": "dialogue",
            "context": "foodperson",
            "value": "yes",
            "no": "Greeting citizen, what brings you to the FoodLair?",
            "yes": "Still here?  Take your time, it's rough out there."
          }
        }
      }
    },
    "speaker_effect": { "effect": { "npc_add_var": "foodperson_has_talked", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [
      {
        "condition": {
          "and": [
            { "npc_has_var": "foodperson_has_talked", "type": "dialogue", "context": "foodperson", "value": "yes" },
            { "not": { "u_is_wearing": "foodperson_mask" } }
          ]
        },
        "text": "Hey. Let's chat for a second.",
        "topic": "TALK_FOODPERSON_MAIN"
      },
      {
        "condition": {
          "and": [
            { "not": { "npc_has_var": "foodperson_has_talked", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            { "not": { "and": [ { "u_is_wearing": "foodperson_mask" }, { "u_is_wearing": "foodkid_badge" } ] } }
          ]
        },
        "text": "Greetings...  Foodperson?",
        "topic": "TALK_FOODPERSON_INTRODUCTION"
      },
      {
        "condition": {
          "and": [
            { "not": { "npc_has_var": "foodperson_has_talked", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            { "u_is_wearing": "foodperson_mask" }
          ]
        },
        "text": "I am you but from an alternate reality.",
        "trial": { "type": "LIE", "difficulty": 10 },
        "success": { "topic": "TALK_FOODPERSON_TEAMUP", "opinion": { "trust": 2, "value": 2 } },
        "failure": { "topic": "TALK_FOODPERSON_ONLYONE", "opinion": { "trust": -5, "value": -5 } }
      },
      {
        "condition": {
          "and": [
            { "not": { "npc_has_var": "foodperson_has_talked", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            { "u_is_wearing": "foodperson_mask" }
          ]
        },
        "text": "I am the REAL Foodperson!.",
        "topic": "TALK_FOODPERSON_ONLYONE"
      },
      { "text": "Nevermind me, I'm just going to leave.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_FOODPERSON_INTRODUCTION",
    "type": "talk_topic",
    "dynamic_line": "Indeed it is I! The one and only FOODPERSON!",
    "responses": [
      {
        "text": "Wow!  Such an honor to meet you in person!",
        "topic": "TALK_FOODPERSON_MAIN",
        "opinion": { "trust": 1, "value": 1 }
      },
      {
        "text": "Are you joking?  Foodpeson is not real, it's a restaurant mascot!",
        "opinion": { "trust": -1, "value": -1 },
        "topic": "TALK_FOODPERSON_DOUBTED"
      },
      {
        "text": "The great Foodperson in the flesh!  Such an honor to finaly meet you in person!",
        "trial": { "type": "LIE", "difficulty": 60, "mod": [ [ "TRUST", 2 ], [ "VALUE", 2 ] ] },
        "success": { "topic": "TALK_FOODPERSON_MAIN", "opinion": { "trust": 2, "value": 2 } },
        "failure": { "topic": "TALK_FOODPERSON_VEXED", "opinion": { "trust": -5, "value": -5 } }
      },
      { "text": "Ah...  Well, nice to meet you Foodperson.", "topic": "TALK_FOODPERSON_MAIN" }
    ]
  },
  {
    "id": "TALK_FOODPERSON_VEXED",
    "type": "talk_topic",
    "dynamic_line": "Do not mock me, for my strength is quite real!  Get out of here now!",
    "responses": [
      { "text": "Sheesh, ok calm down I'm leaving!", "topic": "TALK_DONE" },
      { "text": "Forgive me,  I didn't mean to disrespect you.", "topic": "TALK_FOODPERSON_MAIN" },
      { "text": "Oh yeah?  Show me what you can do!", "topic": "TALK_DONE", "effect": "hostile" }
    ]
  },
  {
    "id": "TALK_FOODPERSON_DOUBTED",
    "type": "talk_topic",
    "dynamic_line": "A comon mistake, but I can assure you that I'm very real!",
    "responses": [
      { "text": "Sure, whatever.", "topic": "TALK_DONE" },
      { "text": "Ok... I believe you.", "topic": "TALK_FOODPERSON_MAIN" }
    ]
  },
  {
    "id": "TALK_FOODPERSON_MAIN",
    "type": "talk_topic",
    "dynamic_line": "Anyway, do you need something?",
    "responses": [
      {
        "text": "Are you interested in some trading?",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_trade", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            {
              "not": { "npc_has_var": "npc_succes_trade", "type": "dialogue", "context": "foodperson", "value": "yes" }
            }
          ]
        },
        "trial": { "type": "PERSUADE", "difficulty": 50, "mod": [ [ "TRUST", 2 ], [ "VALUE", 2 ] ] },
        "success": { "topic": "TALK_FOODPERSON_TRADE" },
        "failure": { "topic": "TALK_FOODPERSON_NOTRADE" }
      },
      {
        "text": "Are you interested in some more trading?",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_trade", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            { "npc_has_var": "npc_succes_trade", "type": "dialogue", "context": "foodperson", "value": "yes" }
          ]
        },
        "effect": "start_trade",
        "topic": "TALK_DONE"
      },
      {
        "text": "I'm looking for a place to stay.",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_shelter", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            {
              "not": { "npc_has_var": "npc_succes_shelter", "type": "dialogue", "context": "foodperson", "value": "yes" }
            }
          ]
        },
        "trial": { "type": "PERSUADE", "difficulty": 20, "mod": [ [ "TRUST", 2 ], [ "VALUE", 2 ] ] },
        "success": { "topic": "TALK_FOODPERSON_SHELTER" },
        "failure": { "topic": "TALK_FOODPERSON_NOSHELTER" }
      },
      {
        "text": "I want to get stronger.  Please teach me.",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_training", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            {
              "not": { "npc_has_var": "npc_succes_training", "type": "dialogue", "context": "foodperson", "value": "yes" }
            }
          ]
        },
        "trial": { "type": "PERSUADE", "difficulty": 20, "mod": [ [ "TRUST", 2 ], [ "VALUE", 2 ] ] },
        "success": { "topic": "TALK_FOODPERSON_TRAINING" },
        "failure": { "topic": "TALK_FOODPERSON_NOTRAINING" }
      },
      {
        "text": "Please teach more.",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_training", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            { "npc_has_var": "npc_succes_training", "type": "dialogue", "context": "foodperson", "value": "yes" }
          ]
        },
        "effect": "start_training",
        "topic": "TALK_DONE"
      },
      {
        "text": "I'm building up a team, people with special abilities.",
        "condition": {
          "and": [
            { "not": { "npc_has_var": "npc_failed_team", "type": "dialogue", "context": "foodperson", "value": "yes" } },
            {
              "not": { "npc_has_var": "npc_succes_team", "type": "dialogue", "context": "foodperson", "value": "yes" }
            }
          ]
        },
        "trial": { "type": "PERSUADE", "difficulty": 0, "mod": [ [ "TRUST", 2 ], [ "VALUE", 2 ] ] },
        "success": {
          "topic": "TALK_FOODPERSON_SIDEKICK",
          "effect": { "npc_add_var": "npc_succes_team_team", "type": "dialogue", "context": "foodperson", "value": "yes" }
        },
        "failure": { "topic": "TALK_FOODPERSON_SOLO" }
      },
      {
        "text": "Can you tell me again about this sidekick offer?",
        "condition": { "npc_has_var": "npc_sidekick_offer", "type": "dialogue", "context": "foodperson", "value": "yes" },
        "topic": "TALK_FOODPERSON_SIDEKICK"
      },
      { "text": "I'm good, bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_FOODPERSON_NOTRADE",
    "type": "talk_topic",
    "dynamic_line": "I already have everything I need here in the FoodLair!",
    "speaker_effect": { "effect": { "npc_add_var": "npc_failed_trade", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "Fair enough.", "topic": "TALK_NONE" } ]
  },
  {
    "id": "TALK_FOODPERSON_TRADE",
    "type": "talk_topic",
    "dynamic_line": "Alright let's see what you've got.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_succes_trade", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "...", "topic": "TALK_DONE", "effect": "start_trade" } ]
  },
  {
    "id": "TALK_FOODPERSON_NOTRAINING",
    "type": "talk_topic",
    "dynamic_line": "You're not ready for this.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_failed_training", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "But I am worthy!", "topic": "TALK_NONE" } ]
  },
  {
    "id": "TALK_FOODPERSON_TRAINING",
    "type": "talk_topic",
    "dynamic_line": "I can teach you a few tricks.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_succes_training", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "...", "topic": "TALK_DONE", "effect": "start_training" } ]
  },
  {
    "id": "TALK_FOODPERSON_NOSHELTER",
    "type": "talk_topic",
    "dynamic_line": "This is no place for a civilian.  You should go to the refugee center.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_failed_shelter", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "Damn!", "topic": "TALK_NONE" } ]
  },
  {
    "id": "TALK_FOODPERSON_SHELTER",
    "type": "talk_topic",
    "dynamic_line": "Well...  You seem like a decent sort, I might have an offer for you.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_succes_shelter", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "I'm listening.", "topic": "TALK_FOODPERSON_SIDEKICK" } ]
  },
  {
    "id": "TALK_FOODPERSON_SOLO",
    "type": "talk_topic",
    "dynamic_line": "Sorry but I work alone.",
    "speaker_effect": { "effect": { "npc_add_var": "npc_failed_team", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [ { "text": "We could really use your help!", "topic": "TALK_NONE" } ]
  },
  {
    "id": "TALK_FOODPERSON_SIDEKICK",
    "type": "talk_topic",
    "dynamic_line": "What about you prove your worth and join me as my sidekick?",
    "speaker_effect": { "effect": { "npc_add_var": "npc_sidekick_offer", "type": "dialogue", "context": "foodperson", "value": "yes" } },
    "responses": [
      { "text": "That sounds great!", "topic": "TALK_MISSION_LIST" },
      { "text": "Ok...", "topic": "TALK_MISSION_LIST" },
      { "text": "I need to think about it.", "topic": "TALK_FOODPERSON_MAIN" },
      { "text": "Huh... No thanks.", "topic": "TALK_DONE" }
    ]
  }
]
