[
  {
    "type": "npc_class",
    "id": "NC_REFUGEE_Pablo",
    "name": "Refugee",
    "job_description": "I'm just trying to survive.",
    "common": false,
    "//": "Pablo is a young professional who survived with his wife, but she was pregnant and lost the baby.",
    "bonus_str": { "rng": [ -1, 3 ] },
    "bonus_dex": { "rng": [ -2, 2 ] },
    "bonus_int": { "rng": [ -2, 2 ] },
    "bonus_per": { "rng": [ -2, 2 ] },
    "worn_override": "REFUGEE_Pablo_worn",
    "carry_override": "REFUGEE_Pablo_carried",
    "weapon_override": "REFUGEE_Pablo_wield",
    "traits": [ { "trait": "QUICK" }, { "trait": "Exp_Bookkeeping1" }, { "group": "Appearance_Latin" } ],
    "skills": [
      { "skill": "ALL", "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "rng": [ 0, -5 ] } ] } ] } },
      { "skill": "computer", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "speech", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "barter", "bonus": { "rng": [ 0, 1 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 0, 2 ] } }
    ]
  },
  {
    "type": "item_group",
    "id": "REFUGEE_Pablo_worn",
    "subtype": "collection",
    "entries": [
      { "item": "boxer_briefs" },
      { "item": "socks" },
      { "item": "tank_top" },
      { "item": "striped_shirt" },
      { "item": "pants" },
      { "item": "jacket_evac" },
      { "item": "porkpie" },
      { "item": "dress_shoes" }
    ]
  },
  {
    "type": "item_group",
    "id": "REFUGEE_Pablo_carried",
    "subtype": "collection",
    "entries": [ { "item": "knife_swissarmy" } ]
  },
  {
    "type": "item_group",
    "id": "REFUGEE_Pablo_wield",
    "subtype": "collection",
    "entries": [ { "item": "heavy_flashlight", "ammo-item": "battery", "charges": 200 } ]
  },
  {
    "type": "npc",
    "id": "refugee_PabloNunez",
    "name_unique": "Pablo Nunez",
    "gender": "male",
    "name_suffix": "refugee",
    "class": "NC_REFUGEE_Pablo",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_REFUGEE_Pablo_1",
    "faction": "free_merchants"
  },
  {
    "type": "effect_type",
    "id": "u_met_Pablo_Nunez",
    "//": "Use this flag to indicate if the player has met this NPC before."
  },
  {
    "type": "talk_topic",
    "//": "common talk responses",
    "id": [
      "TALK_REFUGEE_Pablo_1_firstmeet",
      "TALK_REFUGEE_Pablo_2",
      "TALK_REFUGEE_Pablo_Background1",
      "TALK_REFUGEE_Pablo_Background2_pregnancy",
      "TALK_REFUGEE_Pablo_Background2_sorry",
      "TALK_REFUGEE_Pablo_Background2_survivors",
      "TALK_REFUGEE_Pablo_Situation"
    ],
    "responses": [
      { "text": "What's your story?", "topic": "TALK_REFUGEE_Pablo_Background" },
      { "text": "How are things here?", "topic": "TALK_REFUGEE_Pablo_Situation" },
	  { "text": "What were you saying before?", "topic": "TALK_NONE" },
	  { "text": "I'd better get going.  Bye, Pablo.", "topic": "TALK_DONE" }
	]
	}
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_1",
    "dynamic_line": {
      "u_has_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes",
      "yes": [ "Hello, nice to see you again.", "It's good to see you're still around." ],
      "no": "Hi there.  I'm Pablo, nice to see a new face."
    },
    "responses": [
      {
        "text": "Pablo, hey?  Nice to meet you.",
        "effect": { "u_add_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" },
        "condition": { "not": { "u_has_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" } },
        "topic": "TALK_REFUGEE_Pablo_1_firstmeet"
      },
      {
        "text": "Hi, Pablo.  What's up?",
        "topic": "TALK_REFUGEE_Pablo_2",
		"condition": { "u_has_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" }
      },
      {
        "text": "Hi Pablo, nice to meet you.  I gotta go though.",
        "effect": { "u_add_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" },
        "condition": { "not": { "u_has_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" } },
        "topic": "TALK_DONE"
      },
      {
        "text": "Hi Pablo, nice to see you too.  I gotta go though.",
		"condition": { "u_has_var": "u_met_Pablo_Nunez", "type": "general", "context": "meeting", "value": "yes" },
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_1_firstmeet",
    "dynamic_line": "We don't get many new faces around here.  How can I help you?"
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_2",
    "dynamic_line": "It's been a rough time, adapting to everything that's going on.  What would you like to know about?"
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_Background1",
    "dynamic_line": "I was an accountant before.  Just finished my CPA last year and I already had a position as a manager at my firm.  Everything was looking good.  We decided we were ready for a baby.  Hindsight makes us idiots, hey?",
	"responses": [ { "text": "How did you wind up in this place?", "topic": "TALK_REFUGEE_Pablo_Background2" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_Background2",
    "dynamic_line": "Dana and I were evacuated early, because of her pregnancy. They took us to a concentration center, and then we got on a bus to come here. The bus though, it was rolled over by a giant monster, and many died. We made it out along with a few others, and we kept going until we made it here. It wasn't much farther, and for some reason the monster didn't chase us, just kept tearing at the bus.",
	"responses": [
	  { "text": "What about the pregnancy?", "topic": "TALK_REFUGEE_Pablo_Background2_pregnancy" },
	  { "text": "What happened to the other crash survivors?", "topic": "TALK_REFUGEE_Pablo_Background2_survivors" },
	  { "text": "What were you saying before?", "topic": "TALK_NONE" },
	  { "text": "I'd better get going.  Bye, Pablo.", "topic": "TALK_DONE" }
	]
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_Background2_pregnancy",
    "dynamic_line": "The doctor did what she could but after the accident and the stress of the attack... No.",
	"responses": [ { "text": "I'm sorry for your loss.", "topic": "TALK_REFUGEE_Pablo_Background2_sorry" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_Background2_sorry",
    "dynamic_line": "Thanks.  No, really, thank you.  Others have gone through so much I feel like we should suck it up, but Rhy says we should let ourselves mourn properly and she seems to know her stuff."
  },
  {
    "type": "talk_topic",
    "id": "TALK_REFUGEE_Pablo_Situation",
    "dynamic_line": ""
  }
]
